<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฏููุงููุฉ ุงูุฃูุนุงุจ - ุงููุนุจุฉ</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Host View -->
        <div id="hostView" class="host-view" style="display: none;">
            <header class="game-header">
                <div class="game-info">
                    <h1 id="hostGameTitle">ุนููุงู ุงููุนุจุฉ</h1>
                    <span class="game-code">ุฑูุฒ ุงููุนุจุฉ: <span id="hostGameCode"></span></span>
                </div>
                <div class="game-controls">
                    <span class="question-counter">ุงูุณุคุงู <span id="hostCurrentQ">1</span> ูู <span id="hostTotalQ">5</span></span>
                    <span class="players-counter">ุงููุงุนุจูู: <span id="hostPlayersCount">0</span></span>
                </div>
            </header>

            <main class="game-content">
                <div class="question-display">
                    <div class="question-card">
                        <h2 id="hostQuestionText">ูุต ุงูุณุคุงู</h2>
                        <div id="hostQuestionMedia" class="question-media"></div>
                    </div>

                    <div class="answers-display">
                        <div class="answer-option option-a" id="hostAnswerA">
                            <span class="option-letter">ุฃ</span>
                            <span class="option-text">ุงูุฎูุงุฑ ุงูุฃูู</span>
                            <span class="answer-count">0</span>
                        </div>
                        <div class="answer-option option-b" id="hostAnswerB">
                            <span class="option-letter">ุจ</span>
                            <span class="option-text">ุงูุฎูุงุฑ ุงูุซุงูู</span>
                            <span class="answer-count">0</span>
                        </div>
                        <div class="answer-option option-c" id="hostAnswerC">
                            <span class="option-letter">ุฌ</span>
                            <span class="option-text">ุงูุฎูุงุฑ ุงูุซุงูุซ</span>
                            <span class="answer-count">0</span>
                        </div>
                        <div class="answer-option option-d" id="hostAnswerD">
                            <span class="option-letter">ุฏ</span>
                            <span class="option-text">ุงูุฎูุงุฑ ุงูุฑุงุจุน</span>
                            <span class="answer-count">0</span>
                        </div>
                    </div>
                </div>

                <div class="host-controls">
                    <div class="timer-display">
                        <span class="timer-label">ุงูููุช ุงููุชุจูู:</span>
                        <span id="timerDisplay" class="timer">30</span>
                    </div>
                    
                    <div class="control-buttons">
                        <button id="startQuestionBtn" class="btn btn-host" onclick="startQuestion()">
                            โถ๏ธ ุจุฏุก ุงูุณุคุงู
                        </button>
                        <button id="nextQuestionBtn" class="btn btn-secondary" onclick="nextQuestion()" style="display: none;">
                            โญ๏ธ ุงูุณุคุงู ุงูุชุงูู
                        </button>
                        <button id="endGameBtn" class="btn btn-outline" onclick="endGame()" style="display: none;">
                            ๐ ุฅููุงุก ุงููุนุจุฉ
                        </button>
                    </div>
                </div>

                <div class="live-responses">
                    <h3>๐ ุงูุฅุฌุงุจุงุช ุงููุจุงุดุฑุฉ</h3>
                    <div id="livePlayersList" class="live-players">
                        <!-- Live player responses -->
                    </div>
                </div>
            </main>
        </div>

        <!-- Player View -->
        <div id="playerView" class="player-view" style="display: none;">
            <header class="player-header">
                <div class="player-info">
                    <span id="playerEmoji" class="player-emoji">๐</span>
                    <span id="playerNickname" class="player-name">ูุงุนุจ</span>
                </div>
                <div class="player-score">
                    <span class="score-label">ุงูููุงุท:</span>
                    <span id="playerScore" class="score-value">0</span>
                </div>
            </header>

            <main class="player-content">
                <!-- Waiting for Question -->
                <div id="waitingForQuestion" class="waiting-state">
                    <div class="waiting-animation">
                        <div class="bouncing-dots">
                            <div class="dot"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                        <p>ูู ุงูุชุธุงุฑ ุงูุณุคุงู ุงูุชุงูู...</p>
                    </div>
                </div>

                <!-- Question Display -->
                <div id="questionActive" class="question-active" style="display: none;">
                    <div class="question-display">
                        <h2 id="playerQuestionText">ูุต ุงูุณุคุงู</h2>
                        <div id="playerQuestionMedia" class="question-media"></div>
                    </div>

                    <div class="player-timer">
                        <div class="timer-circle">
                            <span id="playerTimer">30</span>
                        </div>
                    </div>

                    <div class="player-answers">
                        <button class="answer-btn option-a" data-answer="0" onclick="selectAnswer(0)">
                            <span class="option-letter">ุฃ</span>
                            <span class="option-text" id="playerAnswerA">ุงูุฎูุงุฑ ุงูุฃูู</span>
                        </button>
                        <button class="answer-btn option-b" data-answer="1" onclick="selectAnswer(1)">
                            <span class="option-letter">ุจ</span>
                            <span class="option-text" id="playerAnswerB">ุงูุฎูุงุฑ ุงูุซุงูู</span>
                        </button>
                        <button class="answer-btn option-c" data-answer="2" onclick="selectAnswer(2)">
                            <span class="option-letter">ุฌ</span>
                            <span class="option-text" id="playerAnswerC">ุงูุฎูุงุฑ ุงูุซุงูุซ</span>
                        </button>
                        <button class="answer-btn option-d" data-answer="3" onclick="selectAnswer(3)">
                            <span class="option-letter">ุฏ</span>
                            <span class="option-text" id="playerAnswerD">ุงูุฎูุงุฑ ุงูุฑุงุจุน</span>
                        </button>
                    </div>
                </div>

                <!-- Answer Submitted -->
                <div id="answerSubmitted" class="answer-submitted" style="display: none;">
                    <div class="submission-feedback">
                        <div class="feedback-icon">โ</div>
                        <h3>ุชู ุชุณุฌูู ุฅุฌุงุจุชู!</h3>
                        <p>ุฅุฌุงุจุชู: <span id="submittedAnswer"></span></p>
                        <div class="waiting-text">ูู ุงูุชุธุงุฑ ุงููุชุงุฆุฌ...</div>
                    </div>
                </div>

                <!-- Results Display -->
                <div id="questionResults" class="question-results" style="display: none;">
                    <div class="result-display">
                        <div id="resultIcon" class="result-icon">โ</div>
                        <h3 id="resultText">ุฅุฌุงุจุฉ ุตุญูุญุฉ!</h3>
                        <p class="correct-answer">ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ: <span id="correctAnswerText"></span></p>
                        <p class="points-earned">ููุงุท ูุฐุง ุงูุณุคุงู: <span id="pointsEarned">0</span></p>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay" style="display: none;">
        <div class="spinner"></div>
        <p>ุฌุงุฑู ุชุญููู ุงููุนุจุฉ...</p>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
